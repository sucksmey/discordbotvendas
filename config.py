# config.py
import os
from dotenv import load_dotenv

load_dotenv()

# --- Conexão ---
DATABASE_URL = os.getenv("DATABASE_URL")

# --- IDs PRINCIPAIS ---
GUILD_ID = 897650833888534588

# --- IDs DE CARGOS ---
ATTENDANT_ROLE_IDS = [1385360600665686087, 1379126175317622965]
VIP_ROLE_ID = 1070823913308827678
INITIAL_BUYER_ROLE_ID = 1380201405691727923

# Cargos por Gasto (BRL)
SPEND_ROLES_TIERS = {
    100: 1394109025246773340,
    200: 1394109339316392047,
    500: 1394113545280557067,
    1000: 1385379403977986189
}

# --- IDs DE USUÁRIOS ESPECIAIS ---
LEADER_ID = 595044340691369985

# --- IDs DE CANAIS ---
PURCHASE_CHANNEL_ID = 1380180725369798708
ADMIN_NOTIF_CHANNEL_ID = 1398666575929937940
DELIVERY_LOG_CHANNEL_ID = 1394349518933463193
REVIEW_CHANNEL_ID = 1380180935302975620
AWAITING_DELIVERY_CHANNEL_ID = 1399488972706812037
FOLLOW_UP_CHANNEL_ID = 1385371013226827986
CALCULATOR_CHANNEL_ID = 1398034780783644794
GENERAL_LOG_CHANNEL_ID = 1394112959436820520 # Canal para logs de DM, etc.

# --- CONFIGURAÇÕES GERAIS ---
EMBED_COLOR = 0xFF69B4
PIX_KEY = "israbuyshop@gmail.com"

# --- MENSAGENS E LINKS ---
TUTORIAL_VIDEO_URL = "http://www.youtube.com/watch?v=B-LQU3J24pI"
PENDING_ROBUX_URL = "https://www.roblox.com/transactions"

# --- PREÇOS ---
ROBUX_PRICES = {
    100: 4.50, 200: 8.20, 300: 12.60, 400: 17.60, 500: 21.50,
    600: 25.40, 700: 29.30, 800: 33.20, 900: 37.10, 1000: 41.00
}

# --- FUNÇÃO AUXILIAR DE PREÇO ---
def calculate_robux_price(amount: int) -> float:
    if not isinstance(amount, int): amount = int(amount)
    if amount in ROBUX_PRICES:
        return ROBUX_PRICES[amount]
    base_price_1000 = ROBUX_PRICES[1000]
    price_per_robux = base_price_1000 / 1000
    return round(amount * price_per_robux, 2)
